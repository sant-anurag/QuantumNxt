{% extends "home.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/jd.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
    .alert {
        padding: 12px 18px;
        border-radius: 7px;
        margin-bottom: 18px;
        font-size: 1.08em;
        font-weight: 500;
    }
    .alert.success {
        background: #e6f9f0;
        color: #1a7f4c;
        border: 1.2px solid #b2e5d0;
    }
    .alert.error {
        background: #fff0f0;
        color: #c0392b;
        border: 1.2px solid #f5b7b1;
    }
</style>
<div class="jd-form-outer">
<div style="display: flex; align-items: center; margin-bottom: 12px;">
    <i class="fas fa-file-alt" style="font-size:2em; color:#5661d2; margin-right: 12px;"></i>
    <h2 style="margin: 0;">Create Job Description</h2>
</div>
    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
                    <p class="alert success {% if 'error' in message.tags %}text-red-600{% elif 'success' in message.tags %}text-green-600{% endif %} mb-4">{{ message }}</p>
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <form id="jdForm" method="post" action="{% url 'create_jd' %}" class="jd-grid-form">
        {% csrf_token %}
        <div class="form-group">
            <label>JD Summary</label>
            <input type="text" name="jd_summary" required maxlength="100" placeholder="Brief summary of the job description (max 100 characters)">
        </div>
        <div class="form-group">
            <label>Company</label>
            <select name="company_id" required>
                <option value="">Select Company</option>
                {% for company in companies %}
                    <option value="{{ company.company_id }}">{{ company.company_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group form-group-full">
            <label>JD Description</label>
            <textarea name="jd_description" required rows="4"></textarea>
        </div>
        <div class="form-group">
            <label>Must Have Skills</label>
            <input type="text" name="must_have_skills" required>
        </div>
        <div class="form-group">
            <label>Good to Have Skills</label>
            <input type="text" name="good_to_have_skills">
        </div>
        <div class="form-group">
            <label>Budget/CTC</label>
            <input type="text" name="budget_ctc" maxlength="50" placeholder="e.g., Market Standard, 10 LPA">
        </div>
        <div class="form-group">
            <label>Experience Required</label>
            <input type="text" name="experience_required" maxlength="50" placeholder="e.g., 3-5 years" required>
        </div>
        <div class="form-group">
            <label>Education Required</label>
            <input type="text" name="education_required" maxlength="255" placeholder="e.g., Bachelor's in Computer Science" required>
        </div>
        <div class="form-group">
            <label>Location</label>
            <input type="text" name="location" maxlength="255" placeholder="e.g., New York, Remote" required>
        </div>
        <div class="form-group">
            <label>No. of Positions</label>
            <input type="number" name="no_of_positions" min="1" value="1" required>
        </div>
        <div class="form-group">
            <label>Status</label>
            <select name="jd_status">
                <option value="active">Active</option>
                <option value="closed">Closed</option>
                <option value="on hold">On Hold</option>
            </select>
        </div>
        <div class="form-group form-actions form-group-full">
            <button type="submit" class="btn-primary">Create JD</button>
        </div>
    </form>
</div>
<script src="{% static 'js/jd.js' %}"></script>
{% endblock %}