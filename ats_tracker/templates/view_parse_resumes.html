{% extends "home.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/view_parse_resumes.css' %}">
<div class="glass-card">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h2>
            Resumes for JD:
            <select id="jd-select"></select>
            <span id="jd-id"></span>
        </h2>
        <button id="start-parse-btn" class="icon-btn" title="Start Parsing">
            &#128269; Start Parsing
        </button>
        <button id="export-btn" class="icon-btn export-btn" title="Export to Excel">
            &#x1F4C3; Export
        </button>
    </div>
    <table id="resume-table" class="resume-table">
        <thead>
            <tr>
                <th class="file-name-col" style="width:180px;">File Name</th>
                <th style="width:160px;">Name</th>
                <th style="width:120px;">Contact No</th>
                <th style="width:180px;">Email</th>
                <th style="width:80px;">Tot. Exp (years)</th>
                <th style="width:90px;">Status</th>
                <th style="width:120px;">Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<!-- Candidate Modal Overlay -->
<div id="candidate-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>Record Candidate Details</h3>
        <form id="candidate-form">
            <input type="hidden" id="modal-resume-id">
            <input type="hidden" id="modal-jd-id">
            <div class="modal-row">
                <label>Name:</label>
                <input type="text" id="modal-name" maxlength="100">
            </div>
            <div class="modal-row">
                <label>Phone:</label>
                <input type="text" id="modal-phone" maxlength="20">
            </div>
            <div class="modal-row">
                <label>Email:</label>
                <input type="email" id="modal-email" maxlength="100">
            </div>
            <div class="modal-row">
                <label>Skills:</label>
                <input type="text" id="modal-skills" maxlength="255">
            </div>
            <div class="modal-row">
                <label>Experience (years):</label>
                <input type="text" id="modal-experience" maxlength="20">
            </div>
            <div class="modal-row">
                <label>Screened On:</label>
                <input type="date" id="modal-screened-on">
            </div>
            <div class="modal-row">
                <label>Screen Status:</label>
                <select id="modal-screen-status">
                    <option value="toBeScreened">To Be Screened</option>
                    <option value="selected">Selected</option>
                    <option value="rejected">Rejected</option>
                    <option value="onHold">On Hold</option>
                </select>
            </div>
            <div class="modal-row">
                <label>Screened Remarks:</label>
                <textarea id="modal-screened-remarks" maxlength="500"></textarea>
            </div>
            <div class="modal-row">
                <label>L1 Interview Date:</label>
                <input type="date" id="modal-l1-date">
            </div>
            <div class="modal-row">
                <label>L1 Result:</label>
                <input type="text" id="modal-l1-result" maxlength="50">
            </div>
            <div class="modal-row">
                <label>L1 Comments:</label>
                <textarea id="modal-l1-comments" maxlength="500"></textarea>
            </div>
            <div class="modal-row">
                <label>L2 Interview Date:</label>
                <input type="date" id="modal-l2-date">
            </div>
            <div class="modal-row">
                <label>L2 Result:</label>
                <input type="text" id="modal-l2-result" maxlength="50">
            </div>
            <div class="modal-row">
                <label>L2 Comments:</label>
                <textarea id="modal-l2-comments" maxlength="500"></textarea>
            </div>
            <div class="modal-row">
                <label>L3 Interview Date:</label>
                <input type="date" id="modal-l3-date">
            </div>
            <div class="modal-row">
                <label>L3 Result:</label>
                <input type="text" id="modal-l3-result" maxlength="50">
            </div>
            <div class="modal-row">
                <label>L3 Comments:</label>
                <textarea id="modal-l3-comments" maxlength="500"></textarea>
            </div>
            <div class="modal-row">
                <label>Screening Team:</label>
                <input type="text" id="modal-screening-team" maxlength="100">
            </div>
            <div class="modal-row">
                <label>HR Member ID:</label>
                <input type="text" id="modal-hr-member-id" maxlength="10">
            </div>
            <div class="modal-actions">
                <button type="button" id="modal-save-btn" class="modal-btn save-btn">Save</button>
                <button type="button" id="modal-close-btn" class="modal-btn close-btn">Close</button>
            </div>
        </form>
    </div>
</div>
<script src="{% static 'js/view_parse_resumes.js' %}"></script>
{% endblock %}